<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="title" content="Web Andrean" />
  <meta name="description" content="andre web project" />
  <link rel="icon" type="image/png" href="https://th.bing.com/th/id/OIP.uTVi7tMxGlyBfTnAHqcabAHaHa?w=165&h=180&c=7&r=0&o=7&dpr=1.3&pid=1.7&rm=3" />
  <title>Website - Andrean</title>

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(rgba(10, 25, 47, 0.85), rgba(10, 25, 47, 0.85)),
        url("https://th.bing.com/th/id/OIP.gM8pAqwLZTQ1VykZtyzlnAHaEK?o=7rm=3&rs=1&pid=ImgDetMain&o=7&rm=3")
          no-repeat center center fixed;
      background-size: cover;
      color: #f5f5f5;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .container {
      background: rgba(17, 34, 64, 0.9);
      padding: 30px;
      position: relative;
      padding-top: 72px;
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
      width: 92%;
      max-width: 940px;
      text-align: left;
      transition: all 0.3s ease;
      backdrop-filter: blur(6px);
    }

    h1 {
      color: #ffffff;
      margin-bottom: 25px;
      font-size: 26px;
    }

    /* --- PROFILE IMAGE (single) --- */
    .content-row {
      display: flex;
      gap: 22px;
      align-items: flex-start;
      margin-bottom: 18px;
      text-align: left;
    }

    .left-col {
      width: 240px;
      flex: 0 0 220px;
      display: flex;
      gap: 12px;
      align-items: flex-start;
      flex-direction: column;
    }

    .right-col {
      flex: 1 1 auto;
    }

    .profile-block {
      position: absolute;
      top: 16px;
      left: 44px;
      display: flex;
      gap: 12px;
      align-items: flex-start;
    }

    .profile-image {
      width: 92px;
      height: 92px;
      object-fit: cover;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.45);
      border: 2px solid rgba(255,255,255,0.04);
      position: relative;
      flex: 0 0 auto;
    }

    .profile-info {
      color: #ffffff;
      text-align: left;
      position: relative;
      max-width: 520px;
    }

    .profile-info .name {
      font-size: 18px;
      font-weight: 700;
      letter-spacing: 0.2px;
    }

    .profile-info .subtitle {
      font-size: 13px;
      color: #cbd5e1;
      margin-top: 4px;
      max-width: 560px;
    }

    /* Mobile adjustments */
    @media (max-width: 800px) {
      .content-row {
        flex-direction: column;
        align-items: stretch;
      }
      .left-col {
        flex-direction: row;
        align-items: center;
        gap: 12px;
        width: auto;
      }
      .profile-image {
        width: 72px;
        height: 72px;
      }
      .profile-info {
        position: relative;
        margin-left: 0;
        max-width: none;
      }
      .profile-block {
        position: relative;
        top: 0;
        left: 0;
        margin-bottom: 12px;
      }
      .panel {
        margin-left: 0;
        width: 100%;
      }
    }

    ul#repo-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    li.repo-item {
      background-color: rgba(30, 58, 138, 0.3);
      margin: 12px 0;
      padding: 16px;
      border-radius: 12px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 10px;
    }

    li.repo-item:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
    }

    .repo-name {
      font-size: 18px;
      font-weight: 500;
      color: #ffffff;
    }

    .buttons {
      display: flex;
      gap: 10px;
    }

    .btn {
      text-decoration: none;
      padding: 10px 18px;
      border-radius: 10px;
      font-size: 15px;
      font-weight: 700;
      transition: all 0.18s ease;
      display: inline-block;
      color: #fff;
    }

    .panel {
      background: rgba(255,255,255,0.035);
      padding: 28px;
      border-radius: 14px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      min-height: 300px;
      /* more vertical gap under the profile image to avoid overlap */
      margin-top: 80px;
      /* place the panel under the profile image (image left is 16px) */
      margin-left: 16px;
      width: calc(100% - 32px);
      box-sizing: border-box;
    }

    .btn.repo {
      background: #2563eb;
    }

    .btn.repo:hover {
      background: #1d4ed8;
    }

    .btn.web {
      background: #3b82f6;
    }

    .btn.web:hover {
      background: #2563eb;
    }

    .btn.disabled {
      background: #555;
      color: #999;
      cursor: not-allowed;
    }

    .loading {
      color: #aaa;
      font-style: italic;
      margin-top: 20px;
    }

    .error {
      color: #ef4444;
      font-weight: bold;
      margin-top: 20px;
    }

    footer {
      text-align: center;
      margin-top: 20px;
      font-size: 14px;
      color: #aaa;
    }
  </style>
</head>

<body>
  <div class="container">

    <!-- TOP: profile (left) and repos (right) -->
    <!-- profile block: photo (left) and description (right) -->
    <div class="profile-block">
      <img
        class="profile-image"
        src="https://media.tenor.com/7mSj4FRRZP0AAAAM/kiyotaka-ayanokoji-eyes.gif"
        alt="Profile"
      />
      <div class="profile-info">
        <div class="name">andrejonatan</div>
        <div class="subtitle">Informatics student • Cybersecurity, Frontend, Networking</div>
        <div class="subtitle">nothing special, just normal person</div>
        <div class="subtitle">19 years old, still learning and finding experience</div>
      </div>
    </div>

    <div class="content-row">
      <div class="left-col"></div>
    </div>

    <!-- Repo panel moved below profile and aligned left under the profile image -->
    <div class="panel">
      <div id="status" class="loading">Loading repositories...</div>
      <ul id="repo-list"></ul>
    </div>
    <footer>just for fun</footer>
  </div>

  <script>
  async function getAllRepos(username) {
    const repoList = document.getElementById("repo-list");
    const status   = document.getElementById("status");

    try {
      status.textContent = "Loading repositories...";
      
      // Ambil semua repo
      const reposResponse = await fetch(
        `https://api.github.com/users/${username}/repos?per_page=100`
      );
      if (!reposResponse.ok) throw new Error("Failed to fetch repositories");

      const repos = await reposResponse.json();

      // Sort: repo terbaru paling atas
      repos.sort((a, b) => new Date(b.updated_at) - new Date(a.updated_at));

      displayRepos(repos);
      status.textContent = "Repositories loaded ✅";

    } catch (err) {
      console.error(err);
      status.className = "error";
      status.textContent = "Failed to fetch GitHub data ❌";
    }
  }

  async function displayRepos(repos) {
    const repoList = document.getElementById("repo-list");
    repoList.innerHTML = "";

    for (const repo of repos) {
      const li = document.createElement("li");
      li.className = "repo-item";

      const label = document.createElement("span");
      label.className = "repo-name";
      label.textContent = repo.name;

      const btnGroup = document.createElement("div");
      btnGroup.className = "buttons";

      // Repo button
      const repoBtn = document.createElement("a");
      repoBtn.href = repo.html_url;
      repoBtn.target = "_blank";
      repoBtn.className = "btn repo";
      repoBtn.textContent = "Repo";

      // Web button
      const webBtn = document.createElement("a");
      webBtn.className = "btn web disabled";
      webBtn.textContent = "Web";

      const webUrl = `https://andrean.my.id/${repo.name}/`;

      try {
        const resp = await fetch(webUrl, { method: "HEAD" });
        if (resp.ok) {
          webBtn.href = webUrl;
          webBtn.target = "_blank";
          webBtn.classList.remove("disabled");
        } else {
          webBtn.href = "#";
        }
      } catch {
        webBtn.href = "#";
      }

      btnGroup.appendChild(repoBtn);
      btnGroup.appendChild(webBtn);

      li.appendChild(label);
      li.appendChild(btnGroup);

      repoList.appendChild(li);
    }
  }

  // Jalankan auto load semua repo
  getAllRepos("andrejonatan");
</script>

</body>

</html>
